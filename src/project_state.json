{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "Project includes an admin authorization system; current focus is fixing the admin login 'not authorized' error by adding a dedicated admin-creation flow and in-app admin management.",
  "architectural_notes": [
    "Admin bootstrap approach: anyone can create the first admin via a dedicated admin-creation flow that remains available after an admin exists."
  ],
  "known_issues": [
    "Admin login displays error: 'You are not authorized as an admin. Please contact the system administrator.'"
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-update-the-admin-login-ux-admin-login-to-include-a-dedicated-create-first-admin-flow-if-the-user-is-authenticated-but-not-an-admin-provide-an-action-to-create-the-first-admin-only-succeeds-if-no-admins-exist-and-then-re-check-admin-status-and-redirect-to-dashboard-on-success",
      "title": "Update the admin login UX (/admin-login) to include a dedicated 'Create first admin' flow: if the user is authenticated but not an admin, provide an action to create the first admin (only succeeds if no admins exist) and then re-check admin status and redirect to /dashboard on success.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-admin-management-page-in-the-admin-dashboard-that-allows-existing-admins-to-view-the-current-admin-list-and-add-remove-admins-from-the-ui",
      "title": "Add an Admin Management page in the admin dashboard that allows existing admins to view the current admin list and add/remove admins from the UI.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Dedicated admin-creation flow (anyone can create the first admin; flow remains available).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Allow admins to add/remove other admins from within the app.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Add a backend method to allow any authenticated caller to create the first admin when no admins currently exist, and make the method safe to call repeatedly (idempotent). This should resolve cases where admin login shows 'You are not authorized as an admin' after canister rebuild/reset.",
      "reqIds": [
        "REQ-1"
      ],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Implement backend support for admin management: allow admins to list current admins and add/remove other admins from within the app.",
      "reqIds": [
        "REQ-2"
      ],
      "status": "pending"
    }
  ],
  "projectName": "Add dedicated admin-creation flow and in-app admin management to fix 'not authorized' admin login",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}